model RequestForwardingConfiguration {
  id             String                           @id @default(uuid())
  requestType    String                           @unique
  approvalFlow   String
  status         String                           @default("active")
  createdById    String?
  updatedById    String?
  createdAt      DateTime                         @default(now())
  updatedAt      DateTime                         @updatedAt
  approvalLevels RequestForwardingApprovalLevel[]
  createdBy      User?                            @relation("RequestForwardingConfigCreatedBy", fields: [createdById], references: [id])
  updatedBy      User?                            @relation("RequestForwardingConfigUpdatedBy", fields: [updatedById], references: [id])

  @@index([requestType])
  @@index([status])
}

model RequestForwardingApprovalLevel {
  id                 String                         @id @default(uuid())
  configurationId    String
  level              Int
  approverType       String
  departmentHeadMode String?
  specificEmployeeId String?
  departmentId       String?
  subDepartmentId    String?
  createdAt          DateTime                       @default(now())
  updatedAt          DateTime                       @updatedAt
  configuration      RequestForwardingConfiguration @relation(fields: [configurationId], references: [id], onDelete: Cascade)
  department         Department?                    @relation("RequestForwardingDepartment", fields: [departmentId], references: [id])
  specificEmployee   Employee?                      @relation("RequestForwardingSpecificEmployee", fields: [specificEmployeeId], references: [id])
  subDepartment      SubDepartment?                 @relation("RequestForwardingSubDepartment", fields: [subDepartmentId], references: [id])

  @@index([configurationId])
  @@index([level])
  @@index([approverType])
}
