model LoanRequest {
  id                      String    @id @default(uuid())
  employeeId              String
  loanTypeId              String
  amount                  Decimal   @db.Decimal(10, 2)
  requestedDate           DateTime
  repaymentStartMonthYear String?
  numberOfInstallments    Int?
  reason                  String
  additionalDetails       String?
  approvalStatus          String    @default("pending")
  approvedById            String?
  approvedAt              DateTime?
  rejectionReason         String?
  status                  String    @default("pending")
  createdById             String?
  updatedById             String?
  createdAt               DateTime  @default(now())
  updatedAt               DateTime  @updatedAt
  approvedBy              User?     @relation("LoanRequestApprovedBy", fields: [approvedById], references: [id])
  createdBy               User?     @relation("LoanRequestCreatedBy", fields: [createdById], references: [id])
  employee                Employee  @relation(fields: [employeeId], references: [id], onDelete: Cascade)
  loanType                LoanType  @relation(fields: [loanTypeId], references: [id])
  updatedBy               User?     @relation("LoanRequestUpdatedBy", fields: [updatedById], references: [id])

  @@index([employeeId])
  @@index([loanTypeId])
  @@index([repaymentStartMonthYear])
  @@index([approvalStatus])
  @@index([status])
  @@index([requestedDate])
}
